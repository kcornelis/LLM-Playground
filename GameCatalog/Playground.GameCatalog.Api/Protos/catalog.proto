syntax = "proto3";

import "google/protobuf/empty.proto";

option csharp_namespace = "Playground.GameCatalog.Api";

package GameCatalogApi;

service Catalog {
  rpc Search (SearchRequest) returns (SearchResponse);
  rpc GenerateEmbeddings (google.protobuf.Empty) returns (stream GenerateEmbeddingsResponse);
  rpc AnswerCatalogQuestion (AnswerCatalogQuestionRequest) returns (AnswerCatalogQuestionResponse);
}

message Game {
  int32 Id = 1;
  string Title = 2;
  string Description = 3;
  double Score = 4;
}

message SearchRequest {
  string Query = 1;
}

message SearchResponse {
  repeated Game Items = 1;
}

message GenerateEmbeddingsResponse {
    int32 Processed = 1;
    int32 Total = 2;
}

message AnswerCatalogQuestionRequest {
  string Message = 1;
}

message AnswerCatalogQuestionResponse {
  string Answer = 1;
  repeated string Sources = 2;
}
